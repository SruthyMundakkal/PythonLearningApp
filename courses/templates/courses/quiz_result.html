{% extends 'courses/base.html' %}

{% block content %}
<h2 style="font-size: 2em; margin-bottom: 20px; font-weight: bold;">Your Quiz Result</h2>
<p style="font-size: 1.5em; margin-bottom: 20px; font-weight: bold;">You scored <span style="color: #4CAF50; font-size: 2em;">{{ score }}</span> out of <span style="color: #2196F3;">{{ total }}</span>!</p>

<!-- Retake Quiz Button -->
<div style="text-align: center; margin-top: 40px;">
    <a href="{% url 'quiz' %}" class="btn">
      <i class="fas fa-redo-alt"></i> Retake Quiz
    </a>
  </div>

<div style="margin-top: 30px;">
  <h5 style="font-size: 1.8em;">Quiz Questions and Answers:</h5>
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
    {% for result in quiz_results %}
      <div style="border: 2px solid #ddd; border-radius: 10px; padding: 15px; background-color: #f9f9f9; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); {% if result.is_correct %}border-color: #4CAF50; background-color: #d4f7d4;{% else %}border-color: #F44336; background-color: #ffdddd;{% endif %}">
        <div style="margin-bottom: 10px; color: #333;">
          <h6 style="margin: 0;">Question:</h6>
          <p style="margin: 5px 0; color: #555;">{{ result.question }}</p>
        </div>
        <div style="margin-bottom: 10px;">
          <p style="margin: 5px 0; color: #555;"><strong>Your Answer:</strong> {{ result.selected_answer }}</p>
          <p style="margin: 5px 0; color: #555;"><strong>Correct Answer:</strong> {{ result.correct_answer }}</p>
        </div>
        <div style="text-align: center; font-weight: bold; margin-top: 10px;">
          {% if result.is_correct %}
            <span style="font-size: 1.2em; color: #4CAF50;">
                <i class="fas fa-check-circle"></i> Correct
            </span>
          {% else %}
            <span style="font-size: 1.2em; color: #F44336;">
                <i class="fas fa-times-circle"></i> Incorrect
            </span>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
</div>



{% endblock %}
